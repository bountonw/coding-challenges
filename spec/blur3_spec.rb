require 'spec_helper'
require_relative '../lib/blur3.rb'

	describe 'Image' do
		it '#blur single pixel for distance of 3' do
			image = Image.new([
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 1, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		   ], 3)

			expected = [
	      [0, 1, 1, 1, 0, 0],
	      [1, 1, 1, 1, 1, 0],
	      [1, 1, 1, 1, 1, 1],
	      [1, 1, 1, 1, 1, 0],
	      [0, 1, 1, 1, 0, 0],
	      [0, 0, 1, 0, 0, 0],
	    ]

	  image.blur
	  expect(image.data).to eq(expected)
	end

	it '#blur two pixels for distance of 2' do
			image = Image.new([
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 1, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 1, 0, 0],
		      [0, 0, 0, 0, 0, 0],
		   ], 2)

			expected = [
		      [0, 0, 1, 0, 0, 0],
		      [0, 1, 1, 1, 0, 0],
		      [1, 1, 1, 1, 1, 0],
		      [0, 1, 1, 1, 1, 0],
		      [0, 1, 1, 1, 1, 1],
		      [0, 0, 1, 1, 1, 0],
		   ]

	  image.blur
	  expect(image.data).to eq(expected)
	end

		it '#blur 4 pixels in large image for distance of 3' do
			image = Image.new([
		      [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
		      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
		      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
					[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		   ], 3)

			expected = [
		      [1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
					[1, 1, 1, 0, 1, 1, 1, 1, 1, 1],
		      [1, 1, 0, 0, 0, 1, 1, 1, 1, 1],
					[1, 0, 0, 0, 0, 0, 1, 1, 1, 0],
		      [0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
					[0, 0, 0, 0, 0, 1, 1, 1, 0, 0],
		      [0, 1, 0, 0, 1, 1, 1, 1, 1, 0],
					[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
		      [1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
					[1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
		      [1, 1, 1, 1, 0, 0, 1, 0, 0, 0],
					[1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
	    ]

	  image.blur
	  expect(image.data).to eq(expected)
	end	
end